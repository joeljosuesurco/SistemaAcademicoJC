import{a4 as E,a5 as D,a6 as B,a7 as R,a8 as C,a9 as M,aa as A,l as c,p as N,H as b,f as v,M as P,w as $,Q as L,o as n,a,c as u,e as i,E as s,J as V,F as f,L as x,Z as F,d as T,u as O,ab as U}from"./index-CH035xVG.js";const Z={class:"p-6 space-y-6"},z={class:"space-y-1 text-sm"},G={class:"mb-4"},H=["value"],J={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Q={class:"p-4 bg-blue-50 border border-blue-200 rounded-xl shadow-md flex flex-col h-[360px] overflow-hidden"},j={class:"bg-white p-4 border rounded shadow"},q={class:"text-sm space-y-2 max-h-80 overflow-y-auto"},I={class:"ml-4 list-disc mt-2"},K={key:1,class:"text-gray-600 text-center"},Y={__name:"SeguimientoDiarioView",setup(W){E.register(D,B,R,C,M,A);const r=c({nombre:"",curso:"",nivel:""}),d=c([]),p=c(""),_=["Asistencia","Participación","Disciplina","Puntualidad","Respeto","Tolerancia","Ánimo"];N(async()=>{var t,e;try{const g=(await b.get("/perfil")).data.data.persona_rol.persona;r.value.nombre=`${g.apellidos_pat} ${g.apellidos_mat} ${g.nombres_persona}`;const k=await b.get("/estudiante-auth/seguimientos");d.value=k.data.data||[];const o=(t=d.value[0])==null?void 0:t.curso;r.value.curso=`${(o==null?void 0:o.grado_curso)||""} ${(o==null?void 0:o.paralelo_curso)||""}`,r.value.nivel=((e=o==null?void 0:o.nivel_educativo)==null?void 0:e.nombre)||""}catch(l){console.error("Error cargando perfil o seguimiento:",l)}});const y=v(()=>{const t=new Map;return d.value.forEach(e=>{e.materia&&t.set(e.materias_id_materia,e.materia)}),Array.from(t.values())}),m=v(()=>d.value.filter(t=>t.materias_id_materia===p.value)),w=v(()=>{const t=m.value[0]||{};return{labels:_,datasets:[{label:"Desempeño",data:[t.asistencia==="Sí"?5:0,t.participacion==="Alta"?5:t.participacion==="Media"?3:1,t.disciplina==="Excelente"?5:t.disciplina==="Buena"?4:t.disciplina==="Regular"?3:1,t.puntualidad==="Excelente"?5:t.puntualidad==="Buena"?4:t.puntualidad==="Regular"?3:1,t.respeto==="Sí"?5:0,t.tolerancia==="Sí"?5:0,t.estado_animo==="Muy bien"?5:t.estado_animo==="Bien"?4:t.estado_animo==="Neutro"?3:t.estado_animo==="Estresado"?2:1],backgroundColor:"rgba(59,130,246,0.3)",borderColor:"rgba(59,130,246,0.8)",pointBackgroundColor:"rgba(37,99,235,0.8)",pointBorderColor:"#fff"}]}}),S={responsive:!1,maintainAspectRatio:!1,devicePixelRatio:1,plugins:{legend:{position:"top"}},scales:{r:{beginAtZero:!0,min:0,max:5,ticks:{stepSize:1}}}};return(t,e)=>(n(),P(L,null,{default:$(()=>[a("div",Z,[e[17]||(e[17]=a("h2",{class:"text-2xl font-bold"},"Seguimiento Diario",-1)),a("div",z,[a("p",null,[e[1]||(e[1]=a("strong",null,"Estudiante:",-1)),i(" "+s(r.value.nombre),1)]),a("p",null,[e[2]||(e[2]=a("strong",null,"Curso:",-1)),i(" "+s(r.value.curso),1)]),a("p",null,[e[3]||(e[3]=a("strong",null,"Nivel:",-1)),i(" "+s(r.value.nivel),1)])]),a("div",G,[e[5]||(e[5]=a("label",{class:"block font-semibold mb-1"},"Materia:",-1)),V(a("select",{"onUpdate:modelValue":e[0]||(e[0]=l=>p.value=l),class:"px-4 py-2 border rounded w-full"},[e[4]||(e[4]=a("option",{disabled:"",value:""},"Seleccione una materia",-1)),(n(!0),u(f,null,x(y.value,l=>(n(),u("option",{key:l.id_materia,value:l.id_materia},s(l.area_materia),9,H))),128))],512),[[F,p.value]])]),m.value.length?(n(),u("div",J,[a("div",Q,[e[6]||(e[6]=a("h3",{class:"text-lg font-semibold text-blue-700 mb-4 text-center"}," Gráfico de Seguimiento ",-1)),T(O(U),{data:w.value,options:S,width:"300",height:"300"},null,8,["data"])]),a("div",j,[e[16]||(e[16]=a("h3",{class:"text-lg font-semibold mb-2"},"Detalle de Seguimientos",-1)),a("ul",q,[(n(!0),u(f,null,x(m.value,l=>(n(),u("li",{key:l.id_seguimiento,class:"border-b pb-2"},[a("p",null,[e[7]||(e[7]=a("strong",null,"Fecha:",-1)),i(" "+s(l.fecha_reg_seg),1)]),a("p",null,[e[8]||(e[8]=a("strong",null,"Observación:",-1)),i(" "+s(l.observaciones_seguimiento),1)]),a("ul",I,[a("li",null,[e[9]||(e[9]=a("strong",null,"Asistencia:",-1)),i(" "+s(l.asistencia),1)]),a("li",null,[e[10]||(e[10]=a("strong",null,"Participación:",-1)),i(" "+s(l.participacion),1)]),a("li",null,[e[11]||(e[11]=a("strong",null,"Disciplina:",-1)),i(" "+s(l.disciplina),1)]),a("li",null,[e[12]||(e[12]=a("strong",null,"Puntualidad:",-1)),i(" "+s(l.puntualidad),1)]),a("li",null,[e[13]||(e[13]=a("strong",null,"Respeto:",-1)),i(" "+s(l.respeto),1)]),a("li",null,[e[14]||(e[14]=a("strong",null,"Tolerancia:",-1)),i(" "+s(l.tolerancia),1)]),a("li",null,[e[15]||(e[15]=a("strong",null,"Estado Ánimo:",-1)),i(" "+s(l.estado_animo),1)])])]))),128))])])])):(n(),u("div",K," No hay registros de seguimiento disponibles. "))])]),_:1}))}};export{Y as default};
