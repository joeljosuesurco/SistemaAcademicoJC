import{l as v,p as V,H as w,f as h,M as k,w as $,Q as F,o as n,a as e,x as p,c as i,D as C,E as a,e as o,n as b,d as B,F as x,L as f}from"./index-BPGklECu.js";const L={class:"p-6"},P={key:1,class:"text-gray-500"},A={key:2,class:"text-red-600"},I={key:3,class:"grid md:grid-cols-2 gap-6 text-base"},j={class:"border border-blue-300 p-6 rounded shadow-xl bg-white"},S={class:"flex gap-6 items-start"},T=["src"],Y={class:"space-y-1"},z={class:"border border-green-300 p-6 rounded shadow-xl bg-white"},J={class:"list-disc list-inside text-sm space-y-2"},O={class:"text-gray-800"},Q={class:"text-gray-800"},R={class:"text-gray-800"},U={key:4,class:"mt-10"},G={class:"bg-white border rounded shadow p-6"},K={class:"flex justify-between items-center mb-4"},W={class:"overflow-x-auto"},X={class:"min-w-full bg-white border rounded"},Z={class:"bg-blue-100"},q={class:"px-4 py-2 border bg-blue-50"},ee={key:0,class:"inline-block bg-blue-200 text-blue-900 px-2 py-1 rounded text-xs leading-tight"},ae={__name:"InicioEstudianteView",setup(te){const s=v({}),_=v(!0),m=v(null),u=v(!1),d=v([]),y=["Lunes","Martes","Miércoles","Jueves","Viernes"];V(async()=>{try{const l=await w.get("/estudiante-auth/datos");s.value=l.data.data||{}}catch(l){m.value="No se pudo cargar la información del estudiante.",console.error(l)}finally{_.value=!1}});const N=async()=>{u.value=!1,d.value=[];try{const l=await w.get("/estudiante-auth/horario");d.value=l.data.data||[],u.value=!0}catch(l){console.error("Error al cargar horario:",l)}},D=()=>{u.value=!1,d.value=[]},M=h(()=>d.value.length?d.value.map(l=>({dia:l.dia,hora_inicio:l.hora_inicio,hora_fin:l.hora_fin,materia:l.materia})):[]),H=h(()=>{var t;const l=(t=s.value)==null?void 0:t.curso;return l?`${l.grado_curso} ${l.paralelo_curso} - ${l.nivel}`:"—"}),E=l=>{if(!l)return"—";const t=new Date,r=new Date(l);let g=t.getFullYear()-r.getFullYear();const c=t.getMonth()-r.getMonth();return(c<0||c===0&&t.getDate()<r.getDate())&&g--,`${g} años`};return(l,t)=>(n(),k(F,null,{default:$(()=>[e("div",L,[t[18]||(t[18]=e("h2",{class:"text-2xl font-bold mb-6"},"Mi Información",-1)),u.value?p("",!0):(n(),k(C,{key:0,label:"Ver Horario",color:"info",outline:"",class:"mb-6",onClick:N})),_.value?(n(),i("div",P,"Cargando datos del estudiante...")):m.value?(n(),i("div",A,a(m.value),1)):(n(),i("div",I,[e("div",j,[e("div",S,[s.value.foto?(n(),i("img",{key:0,src:`/storage/fotos/${s.value.foto}`,alt:"Foto del estudiante",class:"w-32 h-32 rounded-full object-cover border shadow"},null,8,T)):p("",!0),e("div",Y,[e("p",null,[t[0]||(t[0]=e("strong",null,"RUDE:",-1)),o(" "+a(s.value.rude||"—"),1)]),e("p",null,[t[1]||(t[1]=e("strong",null,"Apellido Paterno:",-1)),o(" "+a(s.value.apellidos_pat),1)]),e("p",null,[t[2]||(t[2]=e("strong",null,"Apellido Materno:",-1)),o(" "+a(s.value.apellidos_mat),1)]),e("p",null,[t[3]||(t[3]=e("strong",null,"Nombres:",-1)),o(" "+a(s.value.nombres),1)]),e("p",null,[t[4]||(t[4]=e("strong",null,"Fecha de Nacimiento:",-1)),o(" "+a(s.value.fecha_nacimiento),1)]),e("p",null,[t[5]||(t[5]=e("strong",null,"Edad:",-1)),o(" "+a(E(s.value.fecha_nacimiento)),1)]),e("p",null,[t[6]||(t[6]=e("strong",null,"Sexo:",-1)),o(" "+a(s.value.sexo),1)]),e("p",null,[t[7]||(t[7]=e("strong",null,"Nacionalidad:",-1)),o(" "+a(s.value.nacionalidad),1)]),e("p",null,[t[8]||(t[8]=e("strong",null,"Curso:",-1)),o(" "+a(H.value),1)]),e("p",null,[t[9]||(t[9]=e("strong",null,"Celular:",-1)),o(" "+a(s.value.celular),1)]),e("p",null,[t[10]||(t[10]=e("strong",null,"Dirección:",-1)),o(" "+a(s.value.direccion),1)])])])]),e("div",z,[t[14]||(t[14]=e("h3",{class:"text-xl font-semibold mb-4 text-green-800"},"Documentos",-1)),e("ul",J,[e("li",null,[t[11]||(t[11]=o(" Carnet de Identidad: ")),e("span",O,a(s.value.ci||"---"),1),e("span",{class:b(["ml-2",s.value.ci?"text-green-600":"text-red-600"])},a(s.value.ci?"✓ Presentado":"✗ No presentado"),3)]),e("li",null,[t[12]||(t[12]=o(" Certificado de Nacimiento: ")),e("span",Q,a(s.value.cert_nac||"---"),1),e("span",{class:b(["ml-2",s.value.cert_nac?"text-green-600":"text-red-600"])},a(s.value.cert_nac?"✓ Presentado":"✗ No presentado"),3)]),e("li",null,[t[13]||(t[13]=o(" Libreta Anterior: ")),e("span",R,a(s.value.libreta||"---"),1),e("span",{class:b(["ml-2",s.value.libreta?"text-green-600":"text-red-600"])},a(s.value.libreta?"✓ Presentado":"✗ No presentado"),3)])])])])),u.value&&d.value.length?(n(),i("div",U,[e("div",G,[e("div",K,[t[15]||(t[15]=e("h3",{class:"text-xl font-semibold"},"Mi Horario",-1)),B(C,{label:"Cerrar",color:"warning",onClick:D})]),e("div",W,[e("table",X,[e("thead",Z,[e("tr",null,[t[16]||(t[16]=e("th",{class:"px-4 py-2 border"},"Hora",-1)),(n(),i(x,null,f(y,r=>e("th",{key:r,class:"px-4 py-2 border"},a(r),1)),64))])]),e("tbody",null,[(n(!0),i(x,null,f(M.value,(r,g)=>(n(),i("tr",{key:g,class:"hover:bg-blue-50"},[e("td",q,a(r.hora_inicio)+" - "+a(r.hora_fin),1),(n(),i(x,null,f(y,c=>e("td",{key:c,class:"px-4 py-2 border text-center"},[r.dia===c&&r.materia?(n(),i("span",ee,[e("strong",null,a(r.materia.sigla_materia),1),t[17]||(t[17]=e("br",null,null,-1)),o(" "+a(r.materia.area_materia),1)])):p("",!0)])),64))]))),128))])])])])])):p("",!0)])]),_:1}))}};export{ae as default};
